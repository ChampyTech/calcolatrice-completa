<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tempo</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div id="container">
        <h1>Tempo</h1>

        <p class="madeWithLove">Made with ❤️ by <a href="https://github.com/ChampyTech">ChampyTech</a></p>

        <hr>

        <h3>Dati</h3>

        <label>Millisecondi (ms): <input type="number" id="ms"></label>
        <label>Secondi (s): <input type="number" id="s"></label>
        <label>Minuti (min): <input type="number" id="min"></label>
        <label>Ore (h): <input type="number" id="h"></label>
        <label>Giorni (d): <input type="number" id="d"></label>
        <label>Settimane (wk): <input type="number" id="wk"></label>
        <label>Mesi (mo): <input type="number" id="mo"></label>
        <label>Anni (y): <input type="number" id="y"></label>
        <label>Decenni: <input type="number" id="dec"></label>
        <label>Secoli: <input type="number" id="sec"></label>
        <label>Millenni: <input type="number" id="mil"></label>

        <button onclick="calcola()">Calcola</button>

        <h3>Risultati</h3>

        <span id="risultato">-</span>
    </div>

    <script>
        function calcola() {
            let valori = {
                Millisecondi: parseFloat(document.getElementById('ms').value),
                Secondi: parseFloat(document.getElementById('s').value),
                Minuti: parseFloat(document.getElementById('min').value),
                h: parseFloat(document.getElementById('h').value),
                d: parseFloat(document.getElementById('d').value),
                wk: parseFloat(document.getElementById('wk').value),
                mo: parseFloat(document.getElementById('mo').value),
                y: parseFloat(document.getElementById('y').value),
                dec: parseFloat(document.getElementById('dec').value),
                sec: parseFloat(document.getElementById('sec').value),
                mil: parseFloat(document.getElementById('mil').value),
            };
            let risultato = document.getElementById('risultato');

            let compilati = Object.entries(valori).filter(([u, v]) => !isNaN(v));
            if (compilati.length === 0) return risultato.innerHTML = 'Per favore inserisci almeno un valore.';
            if (compilati.length > 1) return risultato.innerHTML = 'Inserisci solo un valore alla volta. Per favore.';

            let [scala, valore] = compilati[0];
            let x = parseFloat(valore);

            let secondi;

            switch (unita) {
                case "ms": seconds = value / 1000; break;
                case "s": seconds = value; break;
                case "min": seconds = value * 60; break;
                case "h": seconds = value * 3600; break;
                case "d": seconds = value * 86400; break;
                case "wk": seconds = value * 604800; break;
                case "mo": seconds = value * 2629746; break; // medio
                case "y": seconds = value * 31557600; break; // medio
                case "dec": seconds = value * 315576000; break;
                case "sec": seconds = value * 3155760000; break;
                case "mil": seconds = value * 31557600000; break;
            }

            let results = {
                ms: seconds * 1000,
                s: seconds,
                min: seconds / 60,
                h: seconds / 3600,
                d: seconds / 86400,
                wk: seconds / 604800,
                mo: seconds / 2629746,
                y: seconds / 31557600,
                dec: seconds / 315576000,
                sec: seconds / 3155760000,
                mil: seconds / 31557600000,
            };

            risultato.innerHTML = Object.entries(results).map(([unit, val]) => `${unit}: ${val.toLocaleString('it-IT', { maximumFractionDigits: 6 })}`).join('<br>');
        }
    </script>
</body>

</html>